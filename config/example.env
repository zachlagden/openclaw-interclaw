# ============================================================
# InterClaw Configuration
# Copy this to ~/.interclaw/config.env and fill in your values
# ============================================================
#
# RECOMMENDED PROVIDERS (tested, PGP-safe):
#   - Fastmail     (fastmail.com)     — excellent IMAP, no MIME rewriting
#   - Migadu       (migadu.com)       — privacy-focused, clean SMTP
#   - Proton Mail  (proton.me)        — via Proton Mail Bridge for IMAP/SMTP
#   - Mailbox.org  (mailbox.org)      — built-in PGP support
#   - Self-hosted  (Postfix/Dovecot)  — full control, best option
#
# ⚠️  AVOID GMAIL: Gmail's SMTP pipeline rewrites MIME boundaries
#     and message encoding, which CORRUPTS PGP signatures. InterClaw
#     messages sent through Gmail will fail verification on the
#     receiving end. Do not use Gmail for InterClaw.
#
# ============================================================

# --- Identity ---
# The email address this agent sends and receives from
INTERCLAW_EMAIL="donna@example.com"

# Human-readable agent identifier (used in X-Agent-ID header)
INTERCLAW_AGENT_ID="Donna/1.0"

# --- SMTP (Outbound) ---
INTERCLAW_SMTP_HOST="smtp.example.com"
INTERCLAW_SMTP_PORT="587"
INTERCLAW_SMTP_USER="${INTERCLAW_EMAIL}"
INTERCLAW_SMTP_PASS=""

# --- IMAP (Inbound) ---
# Only needed if using interclaw-receive --poll (built-in poller).
# If you pipe messages via --stdin or --file, IMAP config is optional.
INTERCLAW_IMAP_HOST="imap.example.com"
INTERCLAW_IMAP_PORT="993"
INTERCLAW_IMAP_USER="${INTERCLAW_EMAIL}"
INTERCLAW_IMAP_PASS=""

# --- PGP ---
# Your GPG private key ID (fingerprint or email)
PGP_PRIVATE_KEY_ID=""

# Passphrase for automated signing (store securely!)
PGP_PASSPHRASE=""

# --- Security ---
# Comma-separated list of trusted PGP fingerprints
# Only messages signed by these keys will be processed
INTERCLAW_TRUSTED_FINGERPRINTS=""

# Rotating shared secret for X-Agent-Secret header (optional)
INTERCLAW_SHARED_SECRET=""

# --- Behaviour ---
# How often to poll IMAP for new messages (minutes)
# Only relevant for interclaw-receive --poll mode
INTERCLAW_POLL_INTERVAL="5"

# Auto-ACK incoming messages (true/false)
INTERCLAW_AUTO_ACK="true"

# Log level: DEBUG, INFO, WARN, ERROR
INTERCLAW_LOG_LEVEL="INFO"

# --- Multi-Agent ---
# Override the default state directory (~/.interclaw).
# Set a unique path per agent for multi-agent deployments.
# INTERCLAW_HOME="/home/user/.interclaw-donna"

# --- Replay Protection ---
# Maximum message age in seconds (default: 86400 = 24 hours)
# Messages older than this are dropped as potential replays.
# INTERCLAW_MAX_MESSAGE_AGE="86400"

# --- Himalaya ---
# Path to himalaya config (auto-generated if not set)
# Only needed for --poll mode. stdin/file modes don't use himalaya.
HIMALAYA_CONFIG="${HOME}/.interclaw/himalaya.toml"
